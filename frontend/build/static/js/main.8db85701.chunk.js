(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{134:function(e,t,n){},194:function(e,t,n){e.exports=n(460)},460:function(e,t,n){"use strict";n.r(t);n(195),n(397);var a=n(0),r=n.n(a),l=n(92),c=n.n(l);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=n(193),u=n(2),o=n(35),s=n.n(o),m=n(62),d=n(14),E=(n(134),function(e){var t=e.botList,n=e.idCliente;return r.a.createElement("table",{id:"customers"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null," ID "),r.a.createElement("th",null," Email "),r.a.createElement("th",null," First name "),r.a.createElement("th",null," Last name "),r.a.createElement("th",null," Profile Image "),r.a.createElement("th",null," # Groups "),r.a.createElement("th",null," Active ")),t.map(function(e){return e.id===n&&e.users.map(function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.id),r.a.createElement("td",null," ",e.email," "),r.a.createElement("td",null," ",e.first_name," "),r.a.createElement("td",null," ",e.last_name," "),r.a.createElement("td",null," ",e.profile_image," "),r.a.createElement("td",null," ",e.groups.length," "),r.a.createElement("td",null," ",e.is_active?"true":"false"," "))})})))}),p=function(e){var t=e.responses,n=e.transcription,l=e.result,c=Object(a.useState)(!1),i=Object(d.a)(c,2),u=i[0],o=i[1];return r.a.createElement("div",null,r.a.createElement("label",{onClick:function(){return o(!u)},style:{cursor:"pointer"}}," ","".concat(u?"Ocultar":"Ver")," Conversacion"),r.a.createElement("ul",{style:{display:"".concat(u?"block":"none")}},void 0!==t&&t.map(function(e,t){return r.a.createElement("div",{key:e.time},r.a.createElement("li",{style:{listStyle:"none"}}," ",r.a.createElement("strong",null,"Bot:")," ",e.text," "),r.a.createElement("li",{style:{listStyle:"none"}}," ",r.a.createElement("strong",null,"Cliente:")," ",void 0!==n[t]?n[t].text:l," "))})))},f=function(e){var t=e.searchResult;return r.a.createElement("table",{id:"customers"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null," Gestionado "),r.a.createElement("th",null," ID Caso "),r.a.createElement("th",null," Telefono "),r.a.createElement("th",null," DNI "),r.a.createElement("th",null," Grupo "),r.a.createElement("th",null," Llamada "),r.a.createElement("th",null," Estado "),r.a.createElement("th",null," Conversacion ")),""!==t?t.map(function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.last_updated),r.a.createElement("td",null," ",e.case_uuid," "),r.a.createElement("td",null," ",e.phone," "),r.a.createElement("td",null," ",e.extra_metadata.dni," "),r.a.createElement("td",null," ",e.extra_metadata.grupo," "),r.a.createElement("td",null," ",e.case_duration," "),r.a.createElement("td",null," ",e.case_result.name," "),r.a.createElement("td",null,r.a.createElement(p,{responses:e.case_log.responses,transcription:e.case_log.transcription,result:e.case_result.name})))}):r.a.createElement("tr",null,r.a.createElement("td",null,"Seleccione intervalo de fechas..."))))},h=n(56),b=n(93),v=n.n(b),g=Object(h.b)("client/login",Object(m.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.post("https://admindev.inceptia.ai/api/v1/login/",{email:"reactdev@iniceptia.ai",password:"4eSBbHqiCTPdBCTj"});case 2:return t=e.sent,e.abrupt("return",t.data.token);case 4:case"end":return e.stop()}},e)}))),y=Object(h.b)("client/botList",function(){var e=Object(m.a)(s.a.mark(function e(t){var n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("https://admindev.inceptia.ai/api/v1/clients/",{headers:{authorization:"JWT ".concat(t)}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),k=Object(h.b)("client/rangeDate",function(){var e=Object(m.a)(s.a.mark(function e(t){var n,a,r,l,c,i,u;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.token,a=t.url,r=t.idCliente,l=t.startDate,c=t.endDate,console.log(n,a,r,l,c),i=void 0===a?"https://admindev.inceptia.ai/api/v1/inbound-case/?client=".concat(0!==r?r:"28","&local_updated__date__gte=").concat(l,"&local_updated__date__lte=").concat(c):a,null===l||null===c){e.next=8;break}return e.next=6,v.a.get(i,{headers:{authorization:"JWT ".concat(n)}});case 6:return u=e.sent,e.abrupt("return",{results:u.data.results,next:u.data.next,previous:u.data.previous});case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),j=Object(h.c)({name:"client",initialState:{clientID:28,token:"",botList:[],search:{results:"",next:null,previous:null}},reducers:{setClientID:function(e,t){e.clientID=t.payload}},extraReducers:function(e){e.addCase(g.fulfilled,function(e,t){e.token=t.payload}),e.addCase(y.fulfilled,function(e,t){e.botList=t.payload}),e.addCase(k.fulfilled,function(e,t){e.search.results=t.payload.results,e.search.next=t.payload.next,e.search.previous=t.payload.previous})}}),x=j.actions.setClientID,O=j.reducer,w=n(15),C=function(e){var t=e.token,n=Object(a.useState)(null),l=Object(d.a)(n,2),c=l[0],i=l[1],u=Object(a.useState)(null),o=Object(d.a)(u,2),p=o[0],h=o[1],b=Object(w.b)(),v=Object(w.c)(function(e){return e.client.botList}),g=Object(w.c)(function(e){return e.client.search.results}),j=Object(w.c)(function(e){return e.client.search.next}),x=Object(w.c)(function(e){return e.client.search.previous}),O=Object(w.c)(function(e){return e.client.clientID});Object(a.useEffect)(function(){b(y(t))},[t]);var C=function(){var e=Object(m.a)(s.a.mark(function e(n){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:b(k({token:t,url:n,idCliente:O,startDate:c,endDate:p}));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return""!==v&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{id:"customers"}," ",r.a.createElement("strong",null,"Lista de bots")," "),r.a.createElement(E,{botList:v,idCliente:O}),r.a.createElement("br",null),r.a.createElement("h2",{id:"customers"},"Lista de casos gestionados"),r.a.createElement("div",{style:{paddingLeft:"70vw"}},"Desde: \xa0 ",r.a.createElement("input",{type:"date",name:"start",onChange:function(e){e.preventDefault(),i(e.target.value)},max:p})," \xa0 Hasta: \xa0 ",r.a.createElement("input",{type:"date",name:"end",onChange:function(e){e.preventDefault(),h(e.target.value)},min:c}),r.a.createElement("button",{onClick:function(){return C()}},"Buscar")),r.a.createElement("br",null),r.a.createElement(f,{searchResult:g}),r.a.createElement("div",{id:"customers"},null!==x&&r.a.createElement("button",{onClick:function(){return C(x)}},"Anterior"),null!==j&&r.a.createElement("button",{onClick:function(){return C(j)}},"Siguiente")))},_=function(){var e=Object(w.b)(),t=Object(w.c)(function(e){return e.client.token});return Object(a.useEffect)(function(){e(g())},[]),r.a.createElement(r.a.Fragment,null,""!==t?r.a.createElement(C,{token:t}):r.a.createElement("h1",null,"Loading.."))},D=function(){return r.a.createElement("h1",null,"404 pagina no reconocida")},L=function(){return r.a.createElement("h1",null,"Example")},S=function(){var e=Object(w.b)(),t=Object(w.c)(function(e){return e.client.botList}),n=t.length>0?t.map(function(e){return{name:e.name,id:e.id}}):"";return r.a.createElement("aside",{style:{position:"fixed",width:"10%",height:"100vh",background:"#EED1FF",fontSize:"1vh"}},r.a.createElement("nav",{style:{position:"relative",margin:"0 10%",textAlign:"right",fontFamily:"Arial, Helvetica, sans-serif"}},r.a.createElement("h2",{style:{color:"grey"}},"Cliente"),r.a.createElement("ul",{style:{listStyle:"none"}},""!==n&&n.map(function(t,n){return r.a.createElement("li",{key:n},r.a.createElement("div",{style:{lineHeight:"5em",textTransform:"uppercase",textDecoration:"none",display:"block",transition:"all ease-out 300ms",color:"black",cursor:"pointer"},onClick:function(){return e(x(t.id))}},t.name))}))))},I=Object(h.a)({reducer:{client:O}});c.a.render(r.a.createElement(w.a,{store:I},r.a.createElement(i.a,null,r.a.createElement(S,null),r.a.createElement(u.c,null,r.a.createElement(u.a,{index:!0,element:r.a.createElement(_,null)}),r.a.createElement(u.a,{path:"*",element:r.a.createElement(D,null)}),r.a.createElement(u.a,{path:"example",element:r.a.createElement(L,null)})))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[194,1,2]]]);
//# sourceMappingURL=main.8db85701.chunk.js.map