(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{215:function(e,t,a){e.exports=a(524)},476:function(e,t,a){},524:function(e,t,a){"use strict";a.r(t);a(216),a(418);var n=a(2),l=a.n(n),r=a(78),c=a.n(r);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=a(23),i=a(81),u=a.n(i),s=a(82),m=a.n(s),d=a(156),E=(a(476),function(e){var t=e.clientBots;return l.a.createElement("aside",{className:"sidebar",style:{position:"fixed",width:"10%",height:"100vh",background:"#EED1FF",fontSize:"1vh"}},l.a.createElement("nav",{className:"nav",style:{position:"relative",margin:"0 10%",textAlign:"right",fontFamily:"Arial, Helvetica, sans-serif"}},l.a.createElement("h2",{style:{color:"grey"}},"Cliente"),l.a.createElement("ul",{style:{listStyle:"none"}},t.map(function(e,t){return l.a.createElement("li",{key:t},l.a.createElement("a",{style:{lineHeight:"5em",textTransform:"uppercase",textDecoration:"none",display:"block",transition:"all ease-out 300ms",color:"black"},href:"?".concat(e.id)}," ",e.name," "))}))))}),p=a(210),h=a.n(p),f=(a(477),function(e){var t=e.responses,a=e.transcription,r=e.result,c=Object(n.useState)(!1),i=Object(o.a)(c,2),u=i[0],s=i[1];return l.a.createElement("div",null,l.a.createElement("label",{onClick:function(){return s(!u)},style:{cursor:"pointer"}}," ","".concat(u?"Ocultar":"Ver")," Conversacion"),l.a.createElement("ul",{style:{display:"".concat(u?"block":"none")}},void 0!==t&&t.map(function(e,t){return l.a.createElement("div",{key:e.time},l.a.createElement("li",{style:{listStyle:"none"}}," ",l.a.createElement("strong",null,"Bot:")," ",e.text," "),l.a.createElement("li",{style:{listStyle:"none"}}," ",l.a.createElement("strong",null,"Cliente:")," ",void 0!==a[t]?a[t].text:r," "))})))}),v=function(e){var t=e.token,a=e.idCliente,r=Object(n.useState)(""),c=Object(o.a)(r,2),i=c[0],s=c[1],p=Object(n.useState)(new Date),v=Object(o.a)(p,2),b=v[0],g=v[1],y=Object(n.useState)(new Date),w=Object(o.a)(y,2),_=w[0],j=w[1],k=Object(n.useState)(""),O=Object(o.a)(k,2),C=O[0],x=O[1],S=Object(n.useState)(null),D=Object(o.a)(S,2),T=D[0],B=D[1],F=Object(n.useState)(null),L=Object(o.a)(F,2),I=L[0],N=L[1];Object(n.useEffect)(function(){(function(){var e=Object(d.a)(m.a.mark(function e(){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("https://admindev.inceptia.ai/api/v1/clients/",{headers:{authorization:"JWT ".concat(t)}});case 2:a=e.sent,s(a.data);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}})()().catch(console.error)},[t]);var A=function(){var e=Object(d.a)(m.a.mark(function e(n){var l,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(l=void 0===n?"https://admindev.inceptia.ai/api/v1/inbound-case/?client=".concat(0!==a?a:"28","&local_updated__date__gte=").concat(b.getFullYear(),"-").concat(b.getUTCMonth()+1,"-").concat(b.getUTCDate(),"&local_updated__date__lte=").concat(_.getFullYear(),"-").concat(_.getUTCMonth()+1,"-").concat(_.getUTCDate()):n,null===b||null===_){e.next=8;break}return e.next=4,u.a.get(l,{headers:{authorization:"JWT ".concat(t)}});case 4:200===(r=e.sent).status&&x(r.data.results),200===r.status&&B(r.data.next),200===r.status&&N(r.data.previous);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return""!==i&&l.a.createElement(l.a.Fragment,null,l.a.createElement(E,{clientBots:i.map(function(e){return{name:e.name,id:e.id}})}),l.a.createElement("table",{id:"customers"},l.a.createElement("span",null," ",l.a.createElement("strong",null,"Lista de bots")," "),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("th",null," ID "),l.a.createElement("th",null," Email "),l.a.createElement("th",null," First name "),l.a.createElement("th",null," Last name "),l.a.createElement("th",null," Profile Image "),l.a.createElement("th",null," # Groups "),l.a.createElement("th",null," Active ")),i.map(function(e){return e.id!==a&&e.users.map(function(e){return l.a.createElement("tr",{key:e.id},l.a.createElement("td",null,e.id),l.a.createElement("td",null," ",e.email," "),l.a.createElement("td",null," ",e.first_name," "),l.a.createElement("td",null," ",e.last_name," "),l.a.createElement("td",null," ",e.profile_image," "),l.a.createElement("td",null," ",e.groups.length," "),l.a.createElement("td",null," ",e.is_active?"true":"false"," "))})}))),l.a.createElement("br",null),l.a.createElement("h2",{id:"customers"},"Lista de casos gestionados"),l.a.createElement("div",{style:{paddingLeft:"70vw"}},l.a.createElement(h.a,{selected:b,onChange:function(e){var t=Object(o.a)(e,2),a=t[0],n=t[1];g(a),j(n)},startDate:b,endDate:_,selectsRange:!0}),l.a.createElement("button",{onClick:function(){return A()}},"Buscar")),l.a.createElement("br",null),l.a.createElement("table",{id:"customers"},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("th",null," Gestionado "),l.a.createElement("th",null," ID Caso "),l.a.createElement("th",null," Telefono "),l.a.createElement("th",null," DNI "),l.a.createElement("th",null," Grupo "),l.a.createElement("th",null," Llamada "),l.a.createElement("th",null," Estado "),l.a.createElement("th",null," Conversacion ")),""!==C?C.map(function(e){return l.a.createElement("tr",{key:e.id},l.a.createElement("td",null,e.last_updated),l.a.createElement("td",null," ",e.case_uuid," "),l.a.createElement("td",null," ",e.phone," "),l.a.createElement("td",null," ",e.extra_metadata.dni," "),l.a.createElement("td",null," ",e.extra_metadata.grupo," "),l.a.createElement("td",null," ",e.case_duration," "),l.a.createElement("td",null," ",e.case_result.name," "),l.a.createElement("td",null,l.a.createElement(f,{responses:e.case_log.responses,transcription:e.case_log.transcription,result:e.case_result.name})))}):l.a.createElement("span",null,"Seleccione intervalo de fechas..."),null!==I&&l.a.createElement("button",{onClick:function(){return A(I)}},"Anterior"),null!==T&&l.a.createElement("button",{onClick:function(){return A(T)}},"Siguiente"))))},b=function(){var e=Object(n.useState)("asd"),t=Object(o.a)(e,2),a=t[0],r=t[1];Object(n.useEffect)(function(){u.a.post("https://admindev.inceptia.ai/api/v1/login/",{email:"reactdev@iniceptia.ai",password:"4eSBbHqiCTPdBCTj"}).then(function(e){200===e.status&&r(e.data.token)}).catch(function(e){console.log(e)})},[]);var c=window.location.search,i=0!==Number(c.replace("?"," "))?Number(c.replace("?"," ")):28;return l.a.createElement(l.a.Fragment,null,""!==a?l.a.createElement(v,{token:a,idCliente:i}):l.a.createElement("h1",null,"Loading.."))};c.a.render(l.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[215,1,2]]]);
//# sourceMappingURL=main.55d42647.chunk.js.map